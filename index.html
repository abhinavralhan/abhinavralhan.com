---
layout: default
---
{% include sidebar-nav.html %}

<h2 class="page-title">Blog</h2>

<input type="text" id="search-input" placeholder="Search postsâ€¦">
<div id="results"></div>
<p id="no-results" style="text-align:center; color:#888; display:none;">No posts found</p>

<div class="pagination" id="pagination"></div>

<!-- GitHub Activity Section - OPTION 1: Bottom of page -->
<!-- <div class="github-activity">
  <h3>GitHub Activity</h3>
  <img src="https://ghchart.rshah.org/0066cc/abhinavr8" alt="GitHub Contribution Chart" class="github-chart">
  <div id="github-repos"></div>
</div> -->

<script>
var posts = [{% for post in site.posts %}{title:{{ post.title | jsonify }},url:"{{ post.url }}",date:"{{ post.date | date: '%B %d, %Y' }}",excerpt:{{ post.content | strip_html | truncate: 160 | jsonify }}}{% unless forloop.last %},{% endunless %}{% endfor %}];
var perPage = 3;
var total = Math.ceil(posts.length / perPage);

function getPage() {
  var hash = location.hash.match(/#page=(\d+)/);
  return hash ? parseInt(hash[1]) : 1;
}

function render(p) {
  var r = document.getElementById('results'), n = document.getElementById('no-results');
  if (!p.length) { n.style.display='block'; r.innerHTML=''; return; }
  n.style.display='none';
  r.innerHTML = p.map(function(x){return '<div class="card"><h3><a href="'+x.url+'">'+x.title+'</a></h3><small>'+x.date+'</small><p>'+x.excerpt+'...</p></div>';}).join('');
}

function showPage(page) {
  var start = (page - 1) * perPage;
  var show = posts.slice(start, start + perPage);
  render(show);

  // Build numbered pagination
  var pag = '';
  for (var i = 1; i <= total; i++) {
    if (i === page) {
      pag += '<span class="page-num current">' + i + '</span>';
    } else {
      pag += '<a href="#page=' + i + '" class="page-num">' + i + '</a>';
    }
  }
  document.getElementById('pagination').innerHTML = pag;
}

// Initial render
showPage(getPage());

// Handle hash change (pagination clicks)
window.addEventListener('hashchange', function() {
  showPage(getPage());
  window.scrollTo(0, 0);
});

document.getElementById('search-input').addEventListener('input', function(){
  var q = this.value.toLowerCase().trim();
  var page = getPage();
  var start = (page - 1) * perPage;
  var show = posts.slice(start, start + perPage);
  render(q ? posts.filter(function(p){return p.title.toLowerCase().includes(q)||p.excerpt.toLowerCase().includes(q);}) : show);
});
</script>
